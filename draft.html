<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yanmar NCR System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.29.0/feather.min.js"></script>
    <style>
        .hidden {
            display: none;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen">
    <!-- Login Screen -->
    <div id="loginScreen"
        class="min-h-screen flex items-center justify-center bg-gradient-to-br from-red-600 to-red-800">
        <div class="bg-white p-8 rounded-lg shadow-2xl w-full max-w-md">
            <div class="text-center mb-8">
                <div class="bg-red-600 text-white text-2xl font-bold py-2 px-4 rounded mb-4">YANMAR</div>
                <h2 class="text-2xl font-bold text-gray-800">NCR Quality Control</h2>
                <p class="text-gray-600">Non Conformity Report System</p>
            </div>
            <div class="space-y-4">
                <input type="text" placeholder="Username"
                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
                <input type="password" placeholder="Password"
                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
                <button onclick="showDashboard()"
                    class="w-full bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 transition-colors font-medium">
                    Login
                </button>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboardScreen" class="hidden">
        <!-- Header -->
        <header class="bg-white shadow-sm border-b">
            <div class="px-6 py-4 flex justify-between items-center">
                <div class="flex items-center space-x-4">
                    <div class="bg-red-600 text-white text-xl font-bold py-2 px-4 rounded">YANMAR</div>
                    <h1 class="text-xl font-semibold text-gray-800">NCR Quality Control System</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-gray-600">Welcome, Quality Controller</span>
                    <button onclick="logout()"
                        class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">Logout</button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="bg-gray-800 text-white">
            <div class="px-6 py-4">
                <div class="flex space-x-6">
                    <button onclick="showSection('dashboard')"
                        class="nav-btn bg-red-600 px-4 py-2 rounded">Dashboard</button>
                    <button onclick="showSection('createNCR')"
                        class="nav-btn hover:bg-gray-700 px-4 py-2 rounded">Create NCR</button>
                    <button onclick="showSection('qcVerification')"
                        class="nav-btn hover:bg-gray-700 px-4 py-2 rounded">QC Verification</button>
                    <button onclick="showSection('departmentReview')"
                        class="nav-btn hover:bg-gray-700 px-4 py-2 rounded">Department Review</button>
                </div>
            </div>
        </nav>

        <!-- Dashboard Section -->
        <div id="dashboard" class="section p-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800">Pending NCRs</h3>
                            <p class="text-3xl font-bold text-red-600">12</p>
                        </div>
                        <i data-feather="alert-circle" class="text-red-600 w-8 h-8"></i>
                    </div>
                </div>
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800">Approved</h3>
                            <p class="text-3xl font-bold text-green-600">45</p>
                        </div>
                        <i data-feather="check-circle" class="text-green-600 w-8 h-8"></i>
                    </div>
                </div>
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800">Rejected</h3>
                            <p class="text-3xl font-bold text-orange-600">8</p>
                        </div>
                        <i data-feather="x-circle" class="text-orange-600 w-8 h-8"></i>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow">
                <div class="p-6 border-b">
                    <h3 class="text-lg font-semibold">Recent NCRs</h3>
                </div>
                <div class="p-6">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr class="border-b">
                                    <th class="text-left py-2">NCR ID</th>
                                    <th class="text-left py-2">Part Number</th>
                                    <th class="text-left py-2">Status</th>
                                    <th class="text-left py-2">Priority</th>
                                    <th class="text-left py-2">Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b">
                                    <td class="py-2">NCR-001</td>
                                    <td class="py-2">YM-123-456</td>
                                    <td class="py-2"><span
                                            class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-sm">Pending</span>
                                    </td>
                                    <td class="py-2"><span
                                            class="bg-red-100 text-red-800 px-2 py-1 rounded-full text-sm">Urgent</span>
                                    </td>
                                    <td class="py-2">2024-01-15</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="py-2">NCR-002</td>
                                    <td class="py-2">YM-789-012</td>
                                    <td class="py-2"><span
                                            class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm">Approved</span>
                                    </td>
                                    <td class="py-2"><span
                                            class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm">Normal</span>
                                    </td>
                                    <td class="py-2">2024-01-14</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create NCR Section -->
        <div id="createNCR" class="section hidden p-6">
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">Create New NCR</h2>

                <!-- Data NCR -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4 text-red-600 border-b pb-2">Data NCR</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Part Number</label>
                            <input type="text"
                                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"
                                placeholder="Enter part number">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Part Name</label>
                            <input type="text"
                                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"
                                placeholder="Enter part name">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Model</label>
                            <input type="text"
                                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"
                                placeholder="Enter model">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Class Part</label>
                            <select
                                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
                                <option>Select class part</option>
                                <option>Safety</option>
                                <option>Function</option>
                                <option>General</option>
                            </select>
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                            <input type="text" value="Claim QC Incoming"
                                class="w-full p-3 border border-gray-300 rounded-lg bg-gray-50" readonly>
                        </div>
                    </div>
                </div>

                <!-- Detail of Problem -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4 text-red-600 border-b pb-2">Detail of Problem</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Upload Pictures</label>
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                                <i data-feather="camera" class="mx-auto mb-2 text-gray-400 w-8 h-8"></i>
                                <p class="text-gray-500">Click to upload images or drag and drop</p>
                                <input type="file" multiple accept="image/*" class="hidden">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Voice Note</label>
                            <div class="flex items-center space-x-4">
                                <button class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700">
                                    <i data-feather="mic" class="w-4 h-4 inline mr-2"></i>Start Recording
                                </button>
                                <span class="text-gray-500">No recording yet</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Problem -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4 text-red-600 border-b pb-2">Problem Statement</h3>
                    <textarea rows="4"
                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"
                        placeholder="Describe the problem in detail..."></textarea>
                </div>

                <!-- Process Flow -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4 text-red-600 border-b pb-2">Process Flow</h3>
                    <textarea rows="6"
                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"
                        placeholder="Provide detailed description of the process flow..."></textarea>
                </div>

                <div class="flex space-x-4">
                    <button class="bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700">Submit NCR</button>
                    <button class="bg-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-400">Save Draft</button>
                </div>
            </div>
        </div>

        <!-- QC Verification Section -->
        <div id="qcVerification" class="section hidden p-6">
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">QC Verification</h2>

                <div class="border rounded-lg p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-4">NCR Details - NCR-001</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div><strong>Part Number:</strong> YM-123-456</div>
                        <div><strong>Part Name:</strong> Engine Block</div>
                        <div><strong>Model:</strong> YM-2000</div>
                        <div><strong>Class Part:</strong> Safety</div>
                        <div class="md:col-span-2"><strong>Problem:</strong> Surface crack detected on engine block
                            during incoming inspection</div>
                    </div>

                    <!-- Verification Questions -->
                    <div class="mb-6">
                        <h4 class="font-semibold mb-3">Verification Assessment</h4>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Is this a valid NCR?</label>
                                <div class="flex space-x-4">
                                    <label class="flex items-center">
                                        <input type="radio" name="validNCR" value="yes" class="mr-2">
                                        <span>Yes, valid NCR</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="validNCR" value="no" class="mr-2">
                                        <span>No, not valid</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Status
                                    Classification</label>
                                <div class="space-y-2">
                                    <label class="flex items-center">
                                        <input type="radio" name="status" value="external" class="mr-2">
                                        <span>External - QC Product (Forward to supplier)</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="status" value="internal" class="mr-2">
                                        <span>Internal - QC Parts (Forward to internal department)</span>
                                    </label>
                                </div>
                            </div>

                            <div id="supplierSelection" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Select Supplier</label>
                                <select class="w-full p-3 border border-gray-300 rounded-lg">
                                    <option>Select supplier</option>
                                    <option>Supplier A</option>
                                    <option>Supplier B</option>
                                    <option>Supplier C</option>
                                </select>
                            </div>

                            <div id="departmentSelection" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Select Department</label>
                                <select class="w-full p-3 border border-gray-300 rounded-lg">
                                    <option>Select department</option>
                                    <option>Machine Shop</option>
                                    <option>Assembly</option>
                                    <option>Painting</option>
                                    <option>Quality Control</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Priority Level</label>
                                <div class="flex space-x-4">
                                    <label class="flex items-center">
                                        <input type="radio" name="priority" value="urgent" class="mr-2">
                                        <span class="text-red-600 font-medium">Urgent</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="priority" value="normal" class="mr-2">
                                        <span class="text-blue-600 font-medium">Normal</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">QC Comments</label>
                                <textarea rows="3" class="w-full p-3 border border-gray-300 rounded-lg"
                                    placeholder="Add verification comments..."></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="flex space-x-4">
                        <button class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700">Approve &
                            Submit</button>
                        <button class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700">Reject</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Department Review Section -->
        <div id="departmentReview" class="section hidden p-6">
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">Department Review</h2>

                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                    <h3 class="font-semibold text-blue-800">New NCR Notification</h3>
                    <p class="text-blue-700">You have received a new NCR for review from QC Department</p>
                </div>

                <div class="border rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">NCR Review - NCR-001</h3>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div><strong>Part Number:</strong> YM-123-456</div>
                        <div><strong>Priority:</strong> <span
                                class="bg-red-100 text-red-800 px-2 py-1 rounded-full text-sm">Urgent</span></div>
                        <div><strong>Assigned Department:</strong> Machine Shop</div>
                        <div><strong>Date Received:</strong> 2024-01-15</div>
                        <div class="md:col-span-2"><strong>Problem Description:</strong> Surface crack detected on
                            engine block during incoming inspection</div>
                        <div class="md:col-span-2"><strong>QC Comments:</strong> Critical safety issue requiring
                            immediate attention</div>
                    </div>

                    <div class="mb-6">
                        <h4 class="font-semibold mb-3">Department Investigation</h4>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Investigation Status</label>
                                <select class="w-full p-3 border border-gray-300 rounded-lg">
                                    <option>Under Investigation</option>
                                    <option>Investigation Complete</option>
                                    <option>Requires Additional Time</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Root Cause Analysis</label>
                                <textarea rows="4" class="w-full p-3 border border-gray-300 rounded-lg"
                                    placeholder="Describe the root cause of the problem..."></textarea>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Corrective Actions</label>
                                <textarea rows="4" class="w-full p-3 border border-gray-300 rounded-lg"
                                    placeholder="Describe corrective actions taken or planned..."></textarea>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Preventive Actions</label>
                                <textarea rows="3" class="w-full p-3 border border-gray-300 rounded-lg"
                                    placeholder="Describe preventive measures..."></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="flex space-x-4">
                        <button class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700">Submit to
                            QC</button>
                        <button class="bg-yellow-600 text-white px-6 py-2 rounded-lg hover:bg-yellow-700">Request
                            Extension</button>
                    </div>
                </div>

                <div class="mt-8">
                    <h3 class="text-lg font-semibold mb-4">Final QC Verification</h3>
                    <div class="border rounded-lg p-6 bg-gray-50">
                        <div class="mb-4">
                            <strong>Department Response Status:</strong>
                            <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-sm ml-2">Pending QC
                                Review</span>
                        </div>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">QC Final
                                    Verification</label>
                                <textarea rows="3" class="w-full p-3 border border-gray-300 rounded-lg"
                                    placeholder="Final QC comments and verification..."></textarea>
                            </div>

                            <div class="flex space-x-4">
                                <button class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700">Final
                                    Approval</button>
                                <button class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700">Return for
                                    Revision</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize Feather Icons
        feather.replace();

        // Screen Management
        function showDashboard() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('dashboardScreen').classList.remove('hidden');
            document.getElementById('dashboardScreen').classList.add('fade-in');
            showSection('dashboard');
        }

        function logout() {
            document.getElementById('dashboardScreen').classList.add('hidden');
            document.getElementById('loginScreen').classList.remove('hidden');
        }

        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.add('hidden'));

            // Show selected section
            document.getElementById(sectionName).classList.remove('hidden');
            document.getElementById(sectionName).classList.add('fade-in');

            // Update navigation
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => {
                btn.classList.remove('bg-red-600');
                btn.classList.add('hover:bg-gray-700');
            });
            event.target.classList.add('bg-red-600');
            event.target.classList.remove('hover:bg-gray-700');
        }

        // Status Classification Logic
        document.addEventListener('change', function (e) {
            if (e.target.name === 'status') {
                const supplierDiv = document.getElementById('supplierSelection');
                const departmentDiv = document.getElementById('departmentSelection');

                if (e.target.value === 'external') {
                    supplierDiv.classList.remove('hidden');
                    departmentDiv.classList.add('hidden');
                } else if (e.target.value === 'internal') {
                    departmentDiv.classList.remove('hidden');
                    supplierDiv.classList.add('hidden');
                }
            }
        });

        // File Upload Preview
        document.addEventListener('click', function (e) {
            if (e.target.closest('.border-dashed')) {
                const fileInput = e.target.closest('.border-dashed').querySelector('input[type="file"]');
                fileInput.click();
            }
        });

        // Simulate form submissions with alerts
        document.addEventListener('click', function (e) {
            if (e.target.textContent.includes('Submit NCR')) {
                alert('NCR submitted successfully! Notification sent to QC for verification.');
            }
            if (e.target.textContent.includes('Approve & Submit')) {
                alert('NCR approved and forwarded to designated department/supplier.');
            }
            if (e.target.textContent.includes('Submit to QC')) {
                alert('Response submitted to QC for final verification.');
            }
            if (e.target.textContent.includes('Final Approval')) {
                alert('NCR process completed successfully!');
            }
        });
    </script>
</body>

</html>